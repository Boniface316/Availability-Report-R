library(readxl)
bex<- read_excel("data/VOR_TACTICAL_MPO_DISPOSITION.xlsx")
bex
library(reshape2)
?melt
colnames(bex)
colnames(bex) <- c("EOT", "EquipmentNumber", "Equipment", "Plant", "Status", "Qty")
melt(bex, measure.vars = "Plant")
bex
bex <- bex[-1, ]
bex
melt(bex, measure.vars = "Plant")
dcast(bex, EOT ~ Plant)
dcast(bex, EquipmentNumber ~ Plant)
dcast(bex, EOT +EquipmentNumber ~ Plant)
library(readr)
bex2 <- read_csv("data/bex.csv")
View(bex2)
bex2 <- bex2[, -c(2, 4)]
bex3 <- dcast(bex, EOT +EquipmentNumber ~ Plant)
View(bex3)
library(readr)
maintenance_plant_dict <- read_csv("~/R/Projects/dglepm_drf_availability_report/misc/maintenance_plant_dict.csv")
View(maintenance_plant_dict)
View(maintenance_plant_dict)
colnames(maintenance_plant_dict) <- c("plant_key", "plant")
colnames(maintenance_plant_dict) <- c("plant_key", "Plant")
colnames(bex) <- c("EOT", "EquipmentNumber", "Equipment", "plant_key", "Status", "Qty")
bex3 <- dcast(bex, EOT +EquipmentNumber ~ Plant)
bex
merge.data.table(bex, bex3)
library(data.table)
merge.data.table(bex, bex3, all.x = TRUE)
merge.data.table(bex, bex3, on  = "plant_key")
?merge.data.table
merge.data.table(bex, bex3, by  = "plant_key")
merge.data.table(bex, maintenance_plant_dict, by  = "plant_key")
maintenance_plant_dict
bex
bex$plant_key <- factor(bex$plant_key)
merge.data.table(bex, maintenance_plant_dict, by  = "plant_key")
class(bex)
class(maintenance_plant_dict)
bex <- as.data.table(bex)
bex
maintenance_plant_dict <- as.data.table(maintenance_plant_dict)
merge.data.table(bex, maintenance_plant_dict, by  = "plant_key")
maintenance_plant_dict$plant_key <- factor(maintenance_plant_dict$plant_key)
bex <- as.data.table(bex)
maintenance_plant_dict <- as.data.table(maintenance_plant_dict)
merge.data.table(bex, maintenance_plant_dict, by  = "plant_key")
bex3 <- dcast(bex, EOT + EquipmentNumber ~ Plant)
combined <- merge.data.table(bex, maintenance_plant_dict, by  = "plant_key")
bex3 <- dcast(combined, EOT + EquipmentNumber ~ Plant)
View(bex3)
View(bex3)
bex3 <- dcast(bex, EOT +EquipmentNumber ~ plant_key)
View(bex3)
?dcast
bex3 <- dcast(combined, EOT + EquipmentNumber ~ Plant, value.var = "ty")
bex3 <- dcast(combined, EOT + EquipmentNumber ~ Plant, value.var = "Qty")
View(bex3)
rm(list = ls())
library(readr)
maintenance_plant_dict <- read_csv("~/R/Projects/dglepm_drf_availability_report/misc/maintenance_plant_dict.csv")
library(readxl)
VOR_TACTICAL_MPO_DISPOSITION <- read_excel("data/VOR_TACTICAL_MPO_DISPOSITION.xlsx")
View(VOR_TACTICAL_MPO_DISPOSITION)
bex <- VOR_TACTICAL_MPO_DISPOSITION
colnames(bex) <- c("EOT", "EquipmentNumber", "Equipment", "plant_key", "Status", "Qty")
bex <- bex[-1, ]
bex$plant_key <- factor(bex$plant_key)
colnames(maintenance_plant_dict) <- c("plant_key", "Plant")
maintenance_plant_dict$plant_key <- factor(maintenance_plant_dict$plant_key)
bex <- as.data.table(bex)
library(reshape2)
library(data.table)
combined <- merge.data.table(bex, maintenance_plant_dict, by  = "plant_key")
bex <- as.data.table(bex)
maintenance_plant_dict <- as.data.table(maintenance_plant_dict)
combined <- merge.data.table(bex, maintenance_plant_dict, by  = "plant_key")
bex3 <- dcast(combined, EOT + EquipmentNumber ~ Plant, value.var = "Qty")
View(bex3)
View(bex)
View(maintenance_plant_dict)
unique(bex$plant_key)
